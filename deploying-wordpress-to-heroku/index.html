<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>5. Deploying Wordpress To Heroku - Mediocre Inventions</title><meta name="description" content="In this article, we deploy our Wordpress website onto Heroku. We use Heroku because it has a free plan, but it does included a few drawbacks."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="5. Deploying Wordpress To Heroku - Mediocre Inventions"><meta property="og:description" content="In this article, we deploy our Wordpress website onto Heroku. We use Heroku because it has a free plan, but it does included a few drawbacks."><meta property="og:url" content="https://www.mediocreinventions.com/deploying-wordpress-to-heroku/"><meta property="og:site_name" content="Mediocre Inventions"><meta property="article:tag" content="cleardb"><meta property="article:tag" content="heroku"><meta property="article:tag" content="wordpress"><meta property="article:section" content="Wordpress Hosting Options"><meta property="article:published_time" content="2019-01-28T07:56:25+00:00"><meta property="article:modified_time" content="2019-01-29T06:50:31+00:00"><meta property="og:updated_time" content="2019-01-29T06:50:31+00:00"><meta property="og:image" content="https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128.png"><meta property="og:image:secure_url" content="https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128.png"><meta property="og:image:width" content="800"><meta property="og:image:height" content="346"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="In this article, we deploy our Wordpress website onto Heroku. We use Heroku because it has a free plan, but it does included a few drawbacks."><meta name="twitter:title" content="5. Deploying Wordpress To Heroku - Mediocre Inventions"><meta name="twitter:image" content="https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128.png"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//s.w.org"><link rel="stylesheet" id="wp-block-library-css" href="https://www.mediocreinventions.com/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all"><link rel="stylesheet" id="wp-block-library-theme-css" href="https://www.mediocreinventions.com/wp-includes/css/dist/block-library/theme.min.css" type="text/css" media="all"><link rel="stylesheet" id="blog-bank-font-css" href="https://fonts.googleapis.com/css?family=Montserrat%3A400%2C700%7CPoppins%3A300%2C400%7Cfamily%3DSlabo%2B27px%3A300%2C400%2C700&subset=latin%2Clatin-ext" type="text/css" media="all"><link rel="stylesheet" id="bootstrap-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/bootstrap.min.css" type="text/css" media="all"><link rel="stylesheet" id="animate-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/animate.css" type="text/css" media="all"><link rel="stylesheet" id="owl.carousel-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/owl.carousel.min.css" type="text/css" media="all"><link rel="stylesheet" id="material-design-iconic-font-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/material-design-iconic-font.min.css" type="text/css" media="all"><link rel="stylesheet" id="font-awesome-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/font-awesome.min.css" type="text/css" media="all"><link rel="stylesheet" id="blog-bank-default-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/default.css" type="text/css" media="all"><link rel="stylesheet" id="blog-bank-style-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/style.css" type="text/css" media="all"><link rel="stylesheet" id="block-style-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/block.css" type="text/css" media="all"><link rel="stylesheet" id="blog-bank-responsive-css" href="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/css/responsive.css" type="text/css" media="all"><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/vendor/modernizr-2.8.3.min.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-includes/js/jquery/jquery.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-includes/js/jquery/jquery-migrate.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-108237564-4"></script><script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-108237564-4');
			
		</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6991926516512109",
    enable_page_level_ads: true
  });
</script></head><body class="post-template-default single single-post postid-2412 single-format-standard">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
	  
	      
        <header id="site-head"><nav id="mainNav" class="navbar navbar-default navbar-custom navbar-fixed-top gold-nav"><div class="container">
                    
                    <div class="navbar-header page-scroll">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main_menu">
                            <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                        </button>
                        				<h1 class="site-title"><a href="https://www.mediocreinventions.com/" rel="home">Mediocre Inventions</a></h1>
			                        
                    </div>
                    
                 <div id="main_menu" class="collapse navbar-collapse"><ul id="menu-menu" class="nav navbar-nav navbar-right"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2121" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2121 nav-item"><a title="Home" href="http://dev.mediocreinventions.com" class="nav-link">Home</a></li>
<li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2181" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2181 nav-item"><a title="Privacy Policy" href="https://www.mediocreinventions.com/privacy/" class="nav-link">Privacy Policy</a></li>
</ul></div>                 
                </div>
                
            </nav></header><div id="content" class="site-content">

	<section class="entry-content section-padding"><div class="container"> 
        	<div class="row"> 
            	<div class="col-sm-9">

				<article id="post-2412" class="single-content post-text scroll post-2412 post type-post status-publish format-standard has-post-thumbnail hentry category-wordpress-free-hosting category-wordpress-hosting-options tag-cleardb tag-heroku tag-wordpress"><div class=" content-media"> 
                            	                                
			<div class="post-thumbnail">
				<img width="800" height="346" src="https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" srcset="https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128.png 800w, https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128-300x130.png 300w, https://www.mediocreinventions.com/wp-content/uploads/wordpress-heroku-logo-e1548744816128-768x332.png 768w" sizes="(max-width: 800px) 100vw, 800px"></div>

		                                <div class="content-social"> 
                                    <ul><li><a target="_blank" href="https://facebook.com/sharer/sharer.php?u=https://www.mediocreinventions.com/deploying-wordpress-to-heroku/&display=popup"><i class="fa fa-facebook"></i></a></li>
                                        <li><a target="_blank" href="https://twitter.com/intent/tweet?text=5.%20Deploying%20WordPress%20To%20Heroku&url=https://www.mediocreinventions.com/deploying-wordpress-to-heroku/"><i class="fa fa-twitter"></i></a></li>
                                        <li><a target="_blank" href="https://pinterest.com/pin/create/button/?url=https://www.mediocreinventions.com/deploying-wordpress-to-heroku/&description=5.%20Deploying%20WordPress%20To%20Heroku"><i class="fa fa-pinterest"></i></a></li>
                                        <li><a target="_blank" href="https://plus.google.com/share?url=https://www.mediocreinventions.com/deploying-wordpress-to-heroku/"> <i class="fa fa-google-plus"></i></a></li>
                                    </ul></div>
                                                        </div>
                            <header class=" text-header"><h2>5. Deploying WordPress To Heroku</h2>                                                            <div class="post-meta"> 
                                   <a href="https://www.mediocreinventions.com/author/mt9304gmail-com/"><span class="post-author"><i class="zmdi zmdi-account-circle"> Admin</i></span></a>
                                                                       <span class="post-cat"><i class="fa fa-book"></i> <a href="https://www.mediocreinventions.com/category/wordpress-free-hosting/" rel="category tag">Wordpress Free Hosting Workaround</a>, <a href="https://www.mediocreinventions.com/category/wordpress-free-hosting/wordpress-hosting-options/" rel="category tag">Wordpress Hosting Options</a></span>
                                                                   
                                </div>
                                                        </header><div class=" ufade post-content"> 
                               	<div class="entry-content">
									
<h2>Intro</h2>



<p>In this article, we will deploy our WordPress website onto Heroku, a web application hosting service. We are using Heroku because it has a free plan, but it does come with a couple of drawbacks. We will also go over the limitations of this in this article. <br></p>



<h2>Heroku</h2>



<p>Let’s start by installing Heroku’s command line interface by running: </p>



<pre class="wp-block-preformatted">sudo snap install --classic heroku</pre>



<p>Heroku is a free hosting service that we will use to host our website. The service is extremely convenient to use, but the free tier has a couple of limitations and is usually not suitable for a production/customer facing website hosting. Here are some of the notable downside for the free tier: </p>



<ul><li>If the application is inactive for a while, it will go to sleep. When a user visits the application/website for the first time, it will take more time to load and wake up. </li><li>The MySQL database size is only 5mb. </li><li>It has an ephemeral file system. This just means that any file changes or new files uploaded on the server will be undone after the server restarts. This means that users should not be uploading files on here through WordPress or making any changes tothe files. </li><li>Limited performance. </li></ul><p>However, since we will only be using the website here as a development website, these limitations shouldn’t be too much. If you database does happen to get big and need to go over the 5mb (even with the WordPress database optimizing addon), you have the option to upgrade to their paid tier to significantly increase the limits. </p>



<h3>Heroku Setup</h3>



<p>Make sure you sign up on their website: https://www.heroku.com/<br>
Once you have signed up, you should be able to go to the <a href="https://dashboard.heroku.com/apps">dashboard</a> and create a new application. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/heroku0-1024x84.png" alt="" class="wp-image-2372" srcset="https://www.mediocreinventions.com/wp-content/uploads/heroku0-1024x84.png 1024w, https://www.mediocreinventions.com/wp-content/uploads/heroku0-300x25.png 300w, https://www.mediocreinventions.com/wp-content/uploads/heroku0-768x63.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><p>Enter the name of your new application and in the Deploy section, choose the deployment method that you prefer. For this tutorial, I will choose the Github option to simplify things. This makes it so that every time you move your changes onto Github, it will also move the changes onto Heroku, where we will be hosting our development site. To enable this automatic process, go down to the Automatic deploys section and enable it on the master branch. We won’t go into detail about Github’s branches, but you can read more about it here: https://guides.github.com/introduction/flow/</p>



<h3>Heroku Database</h3>



<p>Now we need to setup our database on Heroku. Go to the Resources section and click on Find more add-ons. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/heroku1-1024x385.png" alt="" class="wp-image-2373" srcset="https://www.mediocreinventions.com/wp-content/uploads/heroku1-1024x385.png 1024w, https://www.mediocreinventions.com/wp-content/uploads/heroku1-300x113.png 300w, https://www.mediocreinventions.com/wp-content/uploads/heroku1-768x289.png 768w, https://www.mediocreinventions.com/wp-content/uploads/heroku1.png 1528w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><p>In the Data Stores section, find the addon that says ClearDB MySQL and click it. Once you are on that addon’s page, click on Install ClearDB MySQL and enter your application’s name to install it for the app (make sure the plan is on Ignite – Free). </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/heroku2-1024x474.png" alt="" class="wp-image-2374" srcset="https://www.mediocreinventions.com/wp-content/uploads/heroku2-1024x474.png 1024w, https://www.mediocreinventions.com/wp-content/uploads/heroku2-300x139.png 300w, https://www.mediocreinventions.com/wp-content/uploads/heroku2-768x355.png 768w, https://www.mediocreinventions.com/wp-content/uploads/heroku2.png 1492w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><h3>ClearDB</h3>



<p>Once you have installed the database, you can access this on the Resources tab in Heroku and select ClearDB – MySQL. This should take you to your database’s page on ClearDB. From here, you can see your database in the Community Edition tab. It should be called something like heroku_4536dfb43tbdf. Click into this and then go to the System Information tab. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/cleardb0-1024x195.png" alt="" class="wp-image-2368" srcset="https://www.mediocreinventions.com/wp-content/uploads/cleardb0-1024x195.png 1024w, https://www.mediocreinventions.com/wp-content/uploads/cleardb0-300x57.png 300w, https://www.mediocreinventions.com/wp-content/uploads/cleardb0-768x146.png 768w, https://www.mediocreinventions.com/wp-content/uploads/cleardb0.png 1559w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><p>From here you can see your database’s username and password. Make sure to make note of this as we will be using it later. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/cleardb1-1024x327.png" alt="" class="wp-image-2369" srcset="https://www.mediocreinventions.com/wp-content/uploads/cleardb1-1024x327.png 1024w, https://www.mediocreinventions.com/wp-content/uploads/cleardb1-300x96.png 300w, https://www.mediocreinventions.com/wp-content/uploads/cleardb1-768x245.png 768w, https://www.mediocreinventions.com/wp-content/uploads/cleardb1.png 1180w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><h3>Local Database</h3>



<p>If you haven’t already, you can install MySQL Workbench to access your database through a GUI: </p>



<pre class="wp-block-preformatted">sudo apt install mysql-workbench</pre>



<p>You can then start the program by finding it on the launcher or typing mysql-workbench in the terminal. Once opened, you should be able to click into the Local instance to access your local database. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/mysql0.png" alt="" class="wp-image-2375" srcset="https://www.mediocreinventions.com/wp-content/uploads/mysql0.png 726w, https://www.mediocreinventions.com/wp-content/uploads/mysql0-300x187.png 300w" sizes="(max-width: 726px) 100vw, 726px"></figure><h3>Database Size</h3>



<p>Since our database on Heroku only allows for 5MB, let’s open up our local instance to check its size. Once opened, the bottom left should have a SCHEMAS section that contains your database. Right-click your database and select “Set as Default Schema”. Then click on the textbox in the middle to type in the Query tab and paste this in the box:</p>



<pre class="wp-block-preformatted">SELECT table_schema AS "Database", <br>
ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS "Size (MB)" <br>
FROM information_schema.TABLES <br>
GROUP BY table_schema;
</pre>



<p>Then go to Query at the top and select “Execute (All of Selection)” or press Shift + Ctrl + Return. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/mysql1.png" alt="" class="wp-image-2376" srcset="https://www.mediocreinventions.com/wp-content/uploads/mysql1.png 806w, https://www.mediocreinventions.com/wp-content/uploads/mysql1-300x180.png 300w, https://www.mediocreinventions.com/wp-content/uploads/mysql1-768x461.png 768w" sizes="(max-width: 806px) 100vw, 806px"></figure><p>A results table should show up showing the size of the database right beside the name of your database. If this is under 5MB then we are good to go! If not, then we may have to delete some unnecesarry data from there. You can make use of the “Optimize Database after Deleting Revisions” WordPress plugin to delete a lot of data from your database. A lot of the space can be a result of old revisions of posts that you no longer need. </p>



<p>If the above method still does not reduce the database tp below 5MB, then you may need to upgrade the database to a paid tier to continue. </p>



<h3>ClearDB Remote Database</h3>



<p>Let’s press the Home icon on the top left of MySQL Workbench now and try to connect to our ClearDB database that we just cretaed on Heroku. Click on the “+” icon next to the title that says “MySQL Connections” to start adding another connection. </p>



<figure class="wp-block-image"><img src="http://dev.mediocreinventions.com/wp-content/uploads/mysql2.png" alt="" class="wp-image-2377" srcset="https://www.mediocreinventions.com/wp-content/uploads/mysql2.png 1022w, https://www.mediocreinventions.com/wp-content/uploads/mysql2-300x208.png 300w, https://www.mediocreinventions.com/wp-content/uploads/mysql2-768x532.png 768w" sizes="(max-width: 1022px) 100vw, 1022px"></figure><p>To get the Hostname, go back to your website folder in your terminal and run the following Heroku command (make sure you have installed the Heroku CLI as mentioned at the top): </p>



<pre class="wp-block-preformatted">heroku config --app yourappname</pre>



<p>Remember to replace yourappname with the name of your application on Heroku. You should get an output that says CLEARDB_DATABASE_URL and a bunch of text after it. The Hostname is the value after the @ sign and before the forward slash “/”. It might look something like us-cdbr-iron-east-03.cleardb.net</p>



<h3>Connecting</h3>



<p>The port should be 3305, username/password should be the one we got from the System Information tab on the ClearDB website earlier. The Default Schema is the database name on ClearDB, which should look something like heroku_resgerhreshrhhs3542. It can be found on the System Information tab as well as the part from the heroku config command after the forward slash and before the question mark. Connecting to it may prompt a password, which is the one from the System Information tab. </p>



<p>Once you have tested and saved the connection, the MySQL-Workbench home page should now have an extra tile to connect to this database now. Click into it to make sure everything connects properly. </p>



<h3>Heroku Config Variables</h3>



<p>Now that we have our ClearDB credentails from above, we need to let Heroku know this information. Heroku also similar to our Apache’s environment variables, Heroku has a section called Config Variables where it gets these values. Go into the Heroku Dashboard again and go to the Settings section. There should be a button called Reveal Config Vars. Click this to reveal the variables. </p>



<p>By default, the ClearDB database URL should be populated already. If not, you can get this URL by running the “heroku config –app yourappname” command again. Since we specified the named of the environment variables in the wp-config.php file earlier (such as DB_NAME, DB_USER, DB_PASSWORD, DB_HOST), we can add this easily in the Reveal Config Vars section. </p>



<h3>Double Checking</h3>



<p>Make sure to add all the environment variables that we have defined in this area and fill the values in with the ClearDB values. Double check that there are no trailing or prepended spaces in these values that are not supposed to be there.</p>



<p>Now check that your file changes are all on the remote repository on Github. You can go to your website folder and type ‘git status’ to check if there are any changes that need to be put on there. Once everything is up to date there, you can manually deploy the changes to Heroku by going to the Heroku Dashboard > Deploy and scroll to the Manual Deploy section to deploy. </p>



<h3>Pushing Database Changes</h3>



<p>Right now our ClearDB database is blank, so we want to make sure we move our local database values onto the ClearDB database. To do this, we will create a backup file from our local database, then restore it to the ClearDB one. Let’s start by creating a new folder on our machine to store the database files: </p>



<pre class="wp-block-preformatted">mkdir ~/mysql-db-files
cd ~/mysql-db-files
</pre>



<p>Make sure you don’t create these files in your website’s folder, because it contains sensitive information and can accidentally be pushed into Github if not careful. Once you are in this new folder, you can then then run the following to create the database backup file: </p>



<pre class="wp-block-preformatted">mysqldump -u root -pCHANGEME databasename > nameofoutputfile.sql</pre>



<p>Make sure “root” is changed to your user and the CHANGEME value right after -p (no space in between) is your database user’s password. Remember to change the databasename to the name of your own database on your local machine. Then the part after the right angle bracket “>” is just the name that you want the file to be called (make sure it ends with .sql).</p>



<h3>Double Checking</h3>



<p>Run the “ls” command just to check that your file has been created. Now we can run the next command to restore our ClearDB database using this file: </p>



<pre class="wp-block-preformatted">mysql --host=changeme --user=changeme --password=changeme --reconnect heroku_changeme < nameofoutputfile.sql</pre>



<p>Make sure you change all these values to the ones we got for the ClearDB database above and the filename at the end to the one we just generated. </p>



<p><strong>Note:</strong><br>
You will likely get an error that says: </p>



<pre class="wp-block-preformatted">ERROR 1273 (HY000) at line 25: Unknown collation: 'utf8mb4_unicode_ci'</pre>



<p>If that happens, you can read about why this occurs here so you can make a more informed decision: <a href="https://stackoverflow.com/questions/42385099/1273-unknown-collation-utf8mb4-unicode-520-ci">https://stackoverflow.com/questions/42385099/1273-unknown-collation-utf8mb4-unicode-520-ci</a></p>



<p>If you just want to resolve this quick and don’t care about the details/implicates, you can just run the following: </p>



<pre class="wp-block-preformatted">sed -i -e "s/utf8mb4_unicode_ci/utf8mb4_unicode_ci/g" nameofoutputfile.sql</pre>



<p>Just make sure to change the filename at the end to the file we just generated. This command just replaces the text that is causing issues in our database file. After running it, you can try running the mysql command again to make the changes again. You can now go into MySQL-Workbench again, refresh everything and see if the ClearDB database has received all the changes. </p>



<h3>WordPress URL Values</h3>



<p>One thing to watch out for are the URLs stored in the database. While you are connected to the ClearDB database with MySQL-Workbench, run the following command to see the WordPress options table: </p>



<pre class="wp-block-preformatted">SELECT * FROM wp_options;</pre>



<p>You should notice some columns called “siteurl” and “home”. These are currently set to http://PLACEHOLDER.wpsho/, but when you have deployed this to Heroku, it would be a different URL. You can find this URL by going into the Heroku Dashboard > Settings > and scroll down to the Domains and Certificates section. You should be able to see your application’s URL on Heroku that looks something like https://yourappname.herokuapp.com/</p>



<p>We should replace the localhost URL in our ClearDB database to avoid issues. Run the following SQL Query on the ClearDB database to update this: </p>



<pre class="wp-block-preformatted">update wp_options<br>
set option_value = "http://yourappname.herokuapp.com"<br>
where option_name = "siteurl";<br>

update wp_options<br>
set option_value = "http://yourappname.herokuapp.com"<br>
where option_name = "home";
</pre>



<p>Make sure that this is set to http instead of https. </p>



<p><strong>Note:</strong><br>
Please note that we will not be able to use https properly in this tutorial, since if you are using a custom domain name, you will have to upgrade to a paid plan to implement SSL certificates. If you plan to use the default Herokuapp domain, then it might require more steps to get https to work. I may write an article on this in the future, but for now we will work with this. </p>



<p>Once this is done, run the SELECT command again to see if it has changed properly. </p>



<h3>Visiting the Site</h3>



<p>With all the changes being made, let’s restart our application by going to the Heroku dashboard, click on More and select Restart all Dynos. Now you can visit your site’s URL and see the error that shows up!</p>



<p>If it says something about a database error, check your wp-config.php file to make sure the database values are correct and you didnt mispell anything. Since we are using environment variables for them, you can also have to check the Reveal Config Vars section in the Heroku Settings section to see if anything was entered wrong (for example, unexpected trailing or prepended spaces). </p>



<p>If you get an error saying the site redirected too many times, check your database value for the siteurl and home columns and make sure that their values are NOT https and the domain name matches what is listed on Heroku. If you have made changes and it keeps trying to redirect you to the https site, the redirect might be cached in your browser. In that case you can either clear your browse cache or try browsing in a new incognito tab. </p>



<p>If your CSS (styling) of the website is all off, but the page loads the content, then double check that your website is serving everything through http and your current URL is using http. </p>



<p>Once the website is loading properly, you can visit the login page as normal by going into /wp-login.php or your custom login URL if you have configured it. </p>



<h3>Workflow</h3>



<p>If you have followed through everything in these series of tutorials, then these are the current things that we have: </p>



<ul><li>Local WordPress website (local database, files, server, etc). Visited through http://PLACEHOLDER.wpsho/</li><li>Github remote repository for files. </li><li>Heroku remote for files (ephemeral). </li><li>ClearDB remote database. Visited through http://yourappname.herokuapp.com/ </li></ul><p>Since the Heroku file system is ephemeral, you would not be able to login to the Heroku instance and upload files (pictures, media, etc) through the website. The files would just get deleted once the instance is restarted. In this case, everytime you want to make changes to the files or add posts that include pictures, you should make them on your local instance and push the file changes to Github/Heroku and the Database changes to ClearDB. </p>



<h3>Workarounds</h3>



<p>This all seems very tedious, but the benefit of this is that everything we use here in this series of tutorials is free. If you don’t like the ephemeral file system of Heroku, you can just avoid it by using AWS and spinning up your own web server to host your WordPress site. They also have a free trial for a year and a very cheap (around $3 a month) plan. </p>



<p>To make life easier for pushing database changes between your ClearDB and your local database, I have created some scripts below to help with this. </p>



<p>This one creates a database backup file and pushes it from your local database to ClearDB. It automatically modifies the siteurl and home values to your Herokuapp url. Make sure to change all the values to match yours if you want to use it (database name, user, siteurl, etc). </p>



<p>I have named the file local_to_cleardb.sh to be self explanatory. Make sure to run this in a folder NOT within your website folder by running: </p>



<pre class="wp-block-preformatted">bash local_to_cleardb.sh</pre>



<p>This file (cleardb_to_local.sh) does the opposite and creates a backup database file from your ClearDB database and restores it onto your local database. Make sure to change all the values in this as well and run it in a folder that is NOT your website folder: </p>



<pre class="wp-block-preformatted">bash cleardb_to_local.sh</pre>



<h3>Other Notes</h3>



<p>I might also look into making a plugin in the future to work around the ephemeral file system. </p>



<p>Alternatively, you can also find some plugins that save the media on Amazon S3 instead of the Website file system. The cost can be around $0.023 per GB for the first 50TB so it’s almost free. </p>



<p>Since the free Heroku instance might not be able to handle a lot of traffic, we will only use the Heroku site as a development site if you need to add some text-only posts from other devices. We will add more to the workflow in the next tutorial as well so that we can have a website that can actually handle more traffic and activity (for free!). </p>
<div class="tags-links bfade">Tagged: <a href="https://www.mediocreinventions.com/tag/cleardb/" rel="tag">cleardb</a>, <a href="https://www.mediocreinventions.com/tag/heroku/" rel="tag">heroku</a>, <a href="https://www.mediocreinventions.com/tag/wordpress/" rel="tag">wordpress</a></div>								</div>
                            </div>
        </article><nav class="navigation post-navigation" role="navigation"><h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://www.mediocreinventions.com/setting-up-the-git-repository/" rel="prev">4. Setting Up The Git Repository</a></div></div>
	</nav></div>
								<div class="col-sm-3"> 
				
<aside id="secondary" class="widget-area"><section id="recent-posts-2" class="widget widget_recent_entries"><h3 class="widget-title">Recent Tutorials</h3>		<ul><li>
					<a href="https://www.mediocreinventions.com/deploying-wordpress-to-heroku/">5. Deploying WordPress To Heroku</a>
									</li>
											<li>
					<a href="https://www.mediocreinventions.com/setting-up-the-git-repository/">4. Setting Up The Git Repository</a>
									</li>
											<li>
					<a href="https://www.mediocreinventions.com/wordpress-configurations-and-preparation/">3. WordPress Configurations And Preparation</a>
									</li>
					</ul></section><section id="categories-2" class="widget widget_categories"><h3 class="widget-title">Tutorials</h3>		<ul><li class="cat-item cat-item-9"><a href="https://www.mediocreinventions.com/category/rails-to-production/" title="A collection of tutorials on creating a Ruby on Rails (5.2) web application with React (16.2). These tutorials will walk through how to push the application into a Production environment. The Production environments can be Heroku or AWS with a Ubuntu 18.04 server using Nginx and Puma. Some articles will also cover how to monitor the application. ">Rails and React To Production (Nginx)</a>
<ul class="children"><li class="cat-item cat-item-281"><a href="https://www.mediocreinventions.com/category/rails-to-production/rails-authentication-authorization/" title="This portion of the tutorial is for building a simple Ruby on Rails application. It will use Rolify, CanCanCan, and Devise to implement authentication and authorization. ">Rails Authentication/Authorization</a>
</li>
	<li class="cat-item cat-item-2"><a href="https://www.mediocreinventions.com/category/rails-to-production/rails-react/" title="Tutorial for creating a React (16.2) website using Ruby on Rails (5.2). We will build an API using Rails and interact with it using AJAX to get our information. ">Ruby on Rails With React</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://www.mediocreinventions.com/category/rails-to-production/rails-nginx/" title="A collection of tutorials on how to deploy a Ruby on Rails web application. We will be using Nginx and Puma on a Ubuntu 18.04 server to accomplish this. ">Ruby on Rails, Nginx and Puma</a>
</li>
</ul></li>
	<li class="cat-item cat-item-10"><a href="https://www.mediocreinventions.com/category/web-basics/" title="Before starting some of the tutorials on this website, it is recommended to review some of the topics here. This is to make sure you are familiar with the relevant concepts for this site. 
The articles in this category cover some of the basic topics that are relevant to web application development. These are brief articles that are meant to get you an idea of what to expect. 
You can read these in order starting from 1., but it is not necessary. Some of the tutorials later on will reference specific articles here if needed. 
">Web Application Basics</a>
</li>
	<li class="cat-item cat-item-611"><a href="https://www.mediocreinventions.com/category/wordpress-free-hosting/" title="These tutorials will explain how to leverage a variety of free services to host a Wordpress website for free. It will also show oyu how to install Wordpress using Linux, Apache, MySQL, and PHP (LAMP stack). Services explores will include Heroku, Github Pages, and Cloudflare. ">Wordpress Free Hosting Workaround</a>
<ul class="children"><li class="cat-item cat-item-612"><a href="https://www.mediocreinventions.com/category/wordpress-free-hosting/installing-wordpress/" title="These tutorials will walk through how to install Wordpress using the Lamp stack (Linux, Apache, MySQL, and PHP). ">Installing Wordpress</a>
</li>
	<li class="cat-item cat-item-613"><a href="https://www.mediocreinventions.com/category/wordpress-free-hosting/wordpress-hosting-options/" title="These articles will explore some free hosting options for Wordpress. We will go through services such as Heroku, Github Pages, and Cloudflare. ">Wordpress Hosting Options</a>
</li>
</ul></li>
		</ul></section></aside></div>
							</div>
		</div>
	</section></div>

        <footer class="footer-section"><div class="container"> 
                <div class="footer-bottom"> 
                    <div class="copy-text">
                    	<p>Mediocre Inventions | 2019</p>
                    </div>
                </div>
            </div>
        </footer></div>

<script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/bootstrap.min.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/plugins.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/scrollreveal.min.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/owl.carousel.min.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/main.js"></script><script type="text/javascript" src="https://www.mediocreinventions.com/wp-content/themes/blog-bank/assets/js/skip-link-focus-fix.js"></script></body></html>
